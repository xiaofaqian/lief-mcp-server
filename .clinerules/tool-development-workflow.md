## Brief overview
这些规则专门针对 LIEF MCP 服务器工具开发的标准化流程，确保在添加新工具前必须先同步官方文档并参考现有实现，避免 API 使用错误和代码不一致问题。

## 工具开发前置要求
- 在添加任何新工具之前，必须使用 context7 工具查询 LIEF 官方最新文档
- 必须参考至少一个现有的相似工具实现，了解项目的代码模式和错误处理方式
- 查询文档时应针对具体的功能领域，如 "exported symbols macho python api" 或 "imported symbols macho"
- 确保理解 LIEF API 的正确使用方法，特别是属性访问和对象结构

## 文档同步策略
- 使用 context7 的 resolve-library-id 工具找到 LIEF 项目的正确 ID
- 使用 get-library-docs 工具获取特定主题的详细文档，设置合适的 tokens 数量（通常 8000）
- 重点关注 Python API 的使用示例和最佳实践
- 注意 LIEF 对象的属性结构，避免假设属性存在

## 代码实现规范
- 严格遵循现有工具的错误处理模式，使用 try-catch 块包装所有 LIEF 操作
- 使用 hasattr() 检查属性存在性，避免直接访问可能不存在的属性
- 对于枚举对象，优先使用 str() 方法获取字符串表示，避免直接转换为整数
- 保持与现有工具一致的参数结构和返回格式

## 测试验证流程
- 在完成工具开发后，必须进行基本的功能测试
- 测试要注意使用 Python3 而不是python，不需要写测试文件，而是直接使用命令行执行代码即可
- 使用常见的系统二进制文件（如 /bin/ls）进行测试验证
- 确保工具能正确处理错误情况和边界条件
- 验证工具已正确添加到 tools/__init__.py 的导入和 TOOLS 列表中

## 错误处理最佳实践
- 参考 .clinerules/lief-error-handling.md 中记录的常见错误和解决方案
- 对每个可能失败的 LIEF 操作添加异常处理
- 提供有意义的错误信息，包含具体的错误原因和建议
- 使用渐进式错误处理，先处理能成功的部分，再报告失败的部分
